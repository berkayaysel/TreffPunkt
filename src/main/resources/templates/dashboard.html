<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TreffPunkt - Create events, meet people around you</title>
    
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <!-- Header Bar -->
    <div class="dashboard-header">
        <a href="/treffpunkt/myActivities" class="dashboard-header-left">
            <i class="fas fa-calendar-alt"></i>
            <span>My Activities</span>
        </a>
        <div class="dashboard-header-right">
            <div id="notification-toggle" class="notification-bell">
                <i class="fas fa-bell"></i>
                <span id="notification-badge" class="notification-badge"></span>
            </div>
            <div id="notification-dropdown" class="notification-dropdown left-side">
                <ul id="notification-list"></ul>
            </div>
            <a href="/treffpunkt/profile" class="dashboard-profile-btn">
                <i class="fas fa-user-circle"></i>
            </a>
        </div>
    </div>

    <div class="dashboard-wrapper">
        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Hero Section -->
            <section class="dashboard-hero">
                <h1>Create events, meet people around you.</h1>
                <p class="hero-subtitle">Hurry, seats are filling up!</p>
            </section>

            <!-- Search Bar -->
            <section class="dashboard-search-section">
                <div class="search-container">
                    <input type="text" id="search-input" class="search-input" placeholder="Search events...">
                    <button class="search-btn"><i class="fas fa-search"></i> Search</button>
                </div>
            </section>

            <!-- Category Carousel -->
            <section class="dashboard-category-section">
                <div class="carousel-container">
                    <button class="carousel-btn prev" id="category-prev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="carousel-scroll" id="category-carousel">
                        <!-- Categories will be populated by JS -->
                    </div>
                    <button class="carousel-btn next" id="category-next">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </section>

            <!-- Filter & Sort Section -->
            <section class="dashboard-filter-controls">
                <label class="filter-checkbox">
                    <input type="checkbox" id="filter-remaining" />
                    <span>Exclude the events with maximum participants</span>
                </label>
                <div class="sort-container">
                    <label for="filter-date">Sort by</label>
                    <select id="filter-date" class="sort-select">
                        <option value="asc">En yakın → En uzak</option>
                        <option value="desc">En uzak → En yakın</option>
                    </select>
                </div>
            </section>

            <!-- Events Container -->
            <section class="dashboard-events">
                <div id="loading-msg" class="loading-msg">
                    <i class="fas fa-spinner fa-spin"></i> Aktiviteler yükleniyor...
                </div>

                <div class="empty-message" id="no-activity-msg" style="display: none;">
                    <p>Henüz hiç aktivite yok.</p>
                </div>

                <div class="events-grid" id="activity-container">
                    <!-- Event cards will be populated by JS -->
                </div>
            </section>
        </main>
    </div>

    <!-- Detail Modal (if needed) -->
    <div id="detail-section" class="detail-section" style="display: none;">
        <div class="detail-header teal">
            <button id="backFromDetail" class="icon-btn back-text">Back</button>
        </div>

        <div class="detail-card">
            <div class="detail-left">
                <h2 class="detail-section-title">Activity Details</h2>
                <div class="detail-image-placeholder"></div>
                <div class="detail-category-pill" id="detail-category-pill">CATEGORY</div>
            </div>
            <div class="detail-right">
                <div class="detail-top">
                    <h2 class="detail-title" id="detail-title">EVENT NAME</h2>
                    <div class="host-card">
                            <div class="host-avatar"><i class="fas fa-user"></i></div>
                            <div class="host-info">
                                <div class="host-name" id="detail-creator">Host Name</div>
                                <div class="host-role">Host</div>
                            </div>
                    </div>
                </div>

                <ul class="meta-list">
                    <li><i class="fas fa-calendar-alt"></i><span id="detail-date">Event Date</span></li>
                    <li><i class="fas fa-clock"></i><span id="detail-time">Event Time</span></li>
                    <li><i class="fas fa-map-marker-alt"></i><span id="detail-location">Event Location</span></li>
                    <li><i class="fas fa-users"></i><span>Participant and Capacity: <span id="detail-number">0</span> / <span id="detail-capacity">0</span></span></li>
                </ul>

                <div class="detail-description-box">
                    <label>Description and Rules:</label>
                    <p id="detail-description">(Yok)</p>
                </div>

                <div class="detail-actions">
                    <button id="joinBtn" class="btn-join green">Join</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/dashboard.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
    <script src="/notifications.js"></script>

    <!-- Notification styles moved to /style.css -->

</body>
</html>