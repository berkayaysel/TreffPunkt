<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TreffPunkt - Create events, meet people around you</title>
    
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <!-- Header Bar -->
    <div class="dashboard-header">
        <a href="/treffpunkt/myActivities" class="dashboard-header-left">
            <i class="fas fa-calendar-alt"></i>
            <span>My Activities</span>
        </a>
        <div class="dashboard-header-right">
            <div id="notification-toggle" class="notification-bell">
                <i class="fas fa-bell"></i>
                <span id="notification-badge" class="notification-badge"></span>
            </div>
            <div id="notification-dropdown" class="notification-dropdown left-side">
                <ul id="notification-list"></ul>
            </div>
            <a href="/treffpunkt/profile" class="dashboard-profile-btn">
                <i class="fas fa-user-circle"></i>
            </a>
        </div>
    </div>

    <div class="dashboard-wrapper">
        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Hero Section -->
            <section class="dashboard-hero">
                <h1>Create events, meet people around you.</h1>
                <p class="hero-subtitle">Hurry, seats are filling up!</p>
            </section>

            <!-- Search Bar -->
            <section class="dashboard-search-section">
                <div class="search-container">
                    <input type="text" id="search-input" class="search-input" placeholder="Search events...">
                    <button class="search-btn"><i class="fas fa-search"></i> Search</button>
                </div>
            </section>

            <!-- Category Carousel -->
            <section class="dashboard-category-section">
                <div class="carousel-container">
                    <button class="carousel-btn prev" id="category-prev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="carousel-scroll" id="category-carousel">
                        <!-- Categories will be populated by JS -->
                    </div>
                    <button class="carousel-btn next" id="category-next">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </section>

            <!-- Filter & Sort Section -->
            <section class="dashboard-filter-controls">
                <label class="filter-checkbox">
                    <input type="checkbox" id="filter-remaining" />
                    <span>Exclude the events with maximum participants</span>
                </label>
                <div class="sort-container">
                    <label for="filter-date">Sort by</label>
                    <select id="filter-date" class="sort-select">
                        <option value="asc">En yakın → En uzak</option>
                        <option value="desc">En uzak → En yakın</option>
                    </select>
                </div>
            </section>

            <!-- Events Container -->
            <section class="dashboard-events">
                <div id="loading-msg" class="loading-msg">
                    <i class="fas fa-spinner fa-spin"></i> Aktiviteler yükleniyor...
                </div>

                <div class="empty-message" id="no-activity-msg" style="display: none;">
                    <p>Henüz hiç aktivite yok.</p>
                </div>

                <div class="events-grid" id="activity-container">
                    <!-- Event cards will be populated by JS -->
                </div>
            </section>
        </main>
    </div>

    <!-- Detail Modal (if needed) -->
    <div id="detail-section" class="detail-section" style="display: none;">
        <div class="detail-header">
            <button id="backFromDetail" class="icon-btn">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2>Activity Details</h2>
        </div>

        <div class="detail-content">
            <h2 id="detail-title">Aktivite Adı</h2>
            <div class="detail-info">
                <p><strong>Konum:</strong> <span id="detail-location"></span></p>
                <p><strong>Tarih:</strong> <span id="detail-date"></span></p>
                <p><strong>Saat:</strong> <span id="detail-time"></span></p>
                <p><strong>Kategori:</strong> <span id="detail-category"></span></p>
                <p><strong>Oluşturan:</strong> <span id="detail-creator">(Bilinmiyor)</span></p>
                <p><strong>Açıklama:</strong> <span id="detail-description">(Yok)</span></p>
                <p><strong>Kapasite:</strong> <span id="detail-capacity">-</span></p>
                <p><strong>Katılımcı Sayısı:</strong> <span id="detail-number">-</span></p>
            </div>
            <div class="detail-footer">
                <button id="joinBtn" class="btn-join">Katıl</button>
            </div>
        </div>
    </div>

    <script src="/dashboard.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
    <script src="/notifications.js"></script>

    <!-- Notification styles moved to /style.css -->

</body>
</html>